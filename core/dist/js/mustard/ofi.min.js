/*! npm.im/object-fit-images 3.2.4 */
var objectFitImages=function(){"use strict";var t="bfred-it:object-fit-images",e=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,i="undefined"==typeof Image?{style:{"object-position":1}}:new Image,r="object-fit"in i.style,n="object-position"in i.style,c="background-size"in i.style,s="string"==typeof i.currentSrc,o=i.getAttribute,a=i.setAttribute,l=!1;function u(t,e,i){var r="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+(e||1)+"' height='"+(i||0)+"'%3E%3C/svg%3E";o.call(t,"src")!==r&&a.call(t,"src",r)}function g(t,e){t.naturalWidth?e(t):setTimeout(g,100,t,e)}function f(i){var n=function(t){for(var i,r=getComputedStyle(t).fontFamily,n={};null!==(i=e.exec(r));)n[i[1]]=i[2];return n}(i),c=i[t];if(n["object-fit"]=n["object-fit"]||"fill",!c.img){if("fill"===n["object-fit"])return;if(!c.skipTest&&r&&!n["object-position"])return}if(!c.img){c.img=new Image(i.width,i.height),c.img.srcset=o.call(i,"data-ofi-srcset")||i.srcset,c.img.src=o.call(i,"data-ofi-src")||i.src,a.call(i,"data-ofi-src",i.src),i.srcset&&a.call(i,"data-ofi-srcset",i.srcset),u(i,i.naturalWidth||i.width,i.naturalHeight||i.height),i.srcset&&(i.srcset="");try{!function(e){var i={get:function(i){return e[t].img[i||"src"]},set:function(i,r){return e[t].img[r||"src"]=i,a.call(e,"data-ofi-"+r,i),f(e),i}};Object.defineProperty(e,"src",i),Object.defineProperty(e,"currentSrc",{get:function(){return i.get("currentSrc")}}),Object.defineProperty(e,"srcset",{get:function(){return i.get("srcset")},set:function(t){return i.set(t,"srcset")}})}(i)}catch(t){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}!function(t){if(t.srcset&&!s&&window.picturefill){var e=window.picturefill._;t[e.ns]&&t[e.ns].evaled||e.fillImg(t,{reselect:!0}),t[e.ns].curSrc||(t[e.ns].supported=!1,e.fillImg(t,{reselect:!0})),t.currentSrc=t[e.ns].curSrc||t.src}}(c.img),i.style.backgroundImage='url("'+(c.img.currentSrc||c.img.src).replace(/"/g,'\\"')+'")',i.style.backgroundPosition=n["object-position"]||"center",i.style.backgroundRepeat="no-repeat",i.style.backgroundOrigin="content-box",/scale-down/.test(n["object-fit"])?g(c.img,function(){c.img.naturalWidth>i.width||c.img.naturalHeight>i.height?i.style.backgroundSize="contain":i.style.backgroundSize="auto"}):i.style.backgroundSize=n["object-fit"].replace("none","auto").replace("fill","100% 100%"),g(c.img,function(t){u(i,t.naturalWidth,t.naturalHeight)})}function d(e,i){var r=!l&&!e;if(i=i||{},e=e||"img",n&&!i.skipTest||!c)return!1;"img"===e?e=document.getElementsByTagName("img"):"string"==typeof e?e=document.querySelectorAll(e):"length"in e||(e=[e]);for(var s=0;s<e.length;s++)e[s][t]=e[s][t]||{skipTest:i.skipTest},f(e[s]);r&&(document.body.addEventListener("load",function(t){"IMG"===t.target.tagName&&d(t.target,{skipTest:i.skipTest})},!0),l=!0,e="img"),i.watchMQ&&window.addEventListener("resize",d.bind(null,e,{skipTest:i.skipTest}))}return d.supportsObjectFit=r,d.supportsObjectPosition=n,function(){function e(e,i){return e[t]&&e[t].img&&("src"===i||"srcset"===i)?e[t].img:e}n||(HTMLImageElement.prototype.getAttribute=function(t){return o.call(e(this,t),t)},HTMLImageElement.prototype.setAttribute=function(t,i){return a.call(e(this,t),t,String(i))})}(),d}();
//# sourceMappingURL=ofi.min.js.map
